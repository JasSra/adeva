@{
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

@{
    var model = new DebtManager.Web.Models.DataTable.DataTableViewModel
    {
        TableKey = "admin.debts",
        Title = "Debts",
        DataUrl = Url.Action("Get", "DebtsApi", new { area = "Admin" }),
        Columns = new System.Collections.Generic.List<DebtManager.Web.Models.DataTable.DataTableColumn>
        {
            new("Id","ID"),
            new("Debtor","Debtor"),
            new("Org","Organization"),
            new("Amount","Amount"),
            new("Outstanding","Outstanding"),
            new("Status","Status")
        },
        Rows = new System.Collections.Generic.List<DebtManager.Web.Models.DataTable.DataTableRow>(),
        Page = (int)(ViewBag.Page ?? 1),
        PageSize = (int)(ViewBag.PageSize ?? 10),
        TotalCount = 0,
        ShowSearch = true,
        ShowStatusFilter = true,
        StatusOptions = new System.Collections.Generic.List<(string,string)> { ("Active","Active"), ("Settled","Settled"), ("InArrears","In Arrears"), ("Disputed","Disputed") },
        ShowDensityToggle = true
    };
}

@await Html.PartialAsync("~/Views/Shared/Components/_DataTable.cshtml", model)
